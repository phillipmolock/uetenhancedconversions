<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UET Enhanced Conversions Demo</title>
    <script>
    /*
    * UET Page Load Event
    */
    (function(w,d,t,r,u)
    {
        var f,n,i;
        w[u]=w[u]||[],f=function()
        {
            var o={ti:"1234567890", enableAutoSpaTracking: true};
            o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")
        },
        n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function()
        {
            var s=this.readyState;
            s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)
        },
        i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)
    })
    (window,document,"script","//bat.bing.com/bat.js","uetq");
        
        /*
        * Function for Handling Form Submit
        */
        function formSubmit() {
            // Get the values from the input fields
            const email = document.getElementById("email").value;
            const phone = document.getElementById("phone").value;
            // Get the selected option from the radio buttons
            const selectedOption = document.querySelector('input[name="option"]:checked').value;
            // You can perform any action with the email and phone here
            console.log("Email:", email);
            console.log("Phone:", phone);
            console.log("selectedOption:", selectedOption);
            if (selectedOption === "Option 1"){
                // Set EC for all events
                console.log("selectedOption1:", selectedOption);
                window.uetq = window.uetq || [];  
                window.uetq.push('set', { 'pid': { 'em': email, 'ph': phone } });
            } else if (selectedOption === "Option 2"){
                // Set EC for a single event
                console.log("selectedOption2:", selectedOption);
                window.uetq = window.uetq || [];  
                window.uetq.push('event', 'MyAction', { 'pid': { 'em': email, 'ph': phone } });
            }
        }
    </script>
</head>
<body>
    <h1>Enhanced Conversions Form</h1>
    <p>Learning purposes only. Do not use a real email or phone number. Enable UET Tag Helper, or check the network console, to see results.</p>
    <form>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="phone">Phone:</label>
        <input type="tel" id="phone" name="phone" required><br>
        
        <label>Choose an option:</label><br>
        <input type="radio" id="option1" name="option" value="Option 1" required>
        <label for="option1">Option 1: EC on all Events on Page</label><br>
        <input type="radio" id="option2" name="option" value="Option 2" required>
        <label for="option2">Option 2: EC on just a single Event</label><br>
        
        <button type="button" onclick="formSubmit()">Submit</button>
    </form>
</body>
</html>
